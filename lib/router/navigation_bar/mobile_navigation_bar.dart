import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import '../router.dart';class NavigationCubit extends Cubit<int> {  NavigationCubit() : super(0);  void changePage(int index) => emit(index);}class MobileNavigationBar extends StatelessWidget {  MobileNavigationBar({Key? key}) : super(key: key);  static const TextStyle optionStyle =      TextStyle(fontSize: 30, fontWeight: FontWeight.bold);  final pageController = PageController();  @override  Widget build(BuildContext context) {    List<Widget> widgetOptions = <Widget>[      BlocProvider(create: (context) => HomeRouterCubit(), child: const Home()),      BlocProvider(create: (context) => CategoryRouterCubit(), child: const Category()),      BlocProvider(create: (context) => CartRouterCubit(), child: const Cart()),    ];    return BlocBuilder<NavigationCubit, int>(      builder: (context, selectedIndex) {        return Scaffold(          bottomNavigationBar: BottomNavigationBar(            items: const <BottomNavigationBarItem>[              BottomNavigationBarItem(                icon: Icon(Icons.home),                label: 'Home',              ),              BottomNavigationBarItem(                icon: Icon(Icons.category),                label: 'Category',              ),              BottomNavigationBarItem(                icon: Icon(Icons.shopping_cart),                label: 'Cart',              ),            ],            currentIndex: selectedIndex,            selectedItemColor: Colors.blue,            onTap: (int index) => pageController.jumpToPage(index),          ),          body: PageView(            /// [NeverScrollableScrollPhysics] disables horizontal scroll through pages            /// and allow only navigation through BottomNavigationBarItem.            physics: const NeverScrollableScrollPhysics(),            controller: pageController,            onPageChanged: (int index) =>                context.read<NavigationCubit>().changePage(index),            children: widgetOptions,          ),        );      },    );  }}